<!--
Evan Heaton
Paint.js - color-sliders.html
2/16/2017
-->

<html>
  <head>
    <title>
      Vue.js color picker
    </title>

    <!-- import bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- style sliders -->
    <link href='style/slider-style.css' rel='stylesheet' type='text/css'>
    <!-- style swatches -->
    <link href='style/swatch-style.css' rel='stylesheet' type='text/css'>

    <!-- import Vue itself -->
    <script src="https://unpkg.com/vue/dist/vue.js"></script>
    <!-- import color-sliders component -->
    <script src="color-sliders.js" type="text/javascript"></script>
    <!-- import color-swatch component -->
    <script src="color-swatch.js" type="text/javascript"></script>

  </head>


  <body>

    <div id="color_swatch_selector">

      <color-swatch
        :swatch-name="primary_swatch_name"
        :selected="primary_selected"
        :color-style="primary_style"
        @selectswatch="selectPrimarySwatch">
      </color-swatch>
      <color-swatch
        :swatch-name="secondary_swatch_name"
        :selected="secondary_selected"
        :color-style="secondary_style"
        @selectswatch="selectSecondarySwatch">
      </color-swatch>

      <color-sliders
        :color-prop="primary_color"
        :visible="primary_selected"
        @colorchanged="updatePrimaryColor">
      </color-sliders>
      <color-sliders
        :color-prop="secondary_color"
        :visible="secondary_selected"
        @colorchanged="updateSecondaryColor">
      </color-sliders>


    </div>

    <script>

      var vm = new Vue({
        el: '#color_swatch_selector',

        data: {
          primary_color: [0, 0, 0],
          secondary_color: [0, 0, 0],
          primary_swatch_name: "Primary",
          secondary_swatch_name: "Secondary",
          primary_selected: true,
          secondary_selected: false,

          primary_style: "rgba(0, 0, 0, 1)",
          secondary_style: "rgba(0, 0, 0, 1)"
        },

        methods: {
          updatePrimaryColor: function(e) {
            this.primary_color[0] = e.R;
            this.primary_color[1] = e.G;
            this.primary_color[2] = e.B;
            this.primary_style = e.color_style;
          },
          updateSecondaryColor: function(e) {
            this.secondary_color[0] = e.R;
            this.secondary_color[1] = e.G;
            this.secondary_color[2] = e.B;
            this.secondary_style = e.color_style;
          },

          selectPrimarySwatch: function(e) {
            this.primary_selected = true;
            this.secondary_selected = false;
          },
          selectSecondarySwatch: function(e) {
            this.secondary_selected = true;
            this.primary_selected = false;
          }
        }
      })

    </script>
  </body>
</html>
