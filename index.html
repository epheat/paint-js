<!DOCTYPE html>
<html>
<head>
  <title>
    paint-js
  </title>

  <!-- import bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- include style -->
  <link href='style/style.css' rel='stylesheet' type='text/css'>
  <!-- style sliders -->
  <link href='style/slider-style.css' rel='stylesheet' type='text/css'>
  <!-- style swatches -->
  <link href='style/swatch-style.css' rel='stylesheet' type='text/css'>

  <!-- include fonts -->
  <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">

  <!-- include scripts -->
  <!-- <script src="script/paint.js" type="text/javascript"></script> -->
  <script src="script/tab.js" type="text/javascript"></script>

  <!-- import Vue itself -->
  <script src="https://unpkg.com/vue/dist/vue.js"></script>
  <!-- import color-sliders component -->
  <script src="script/color-sliders.js" type="text/javascript"></script>
  <!-- import color-swatch component -->
  <script src="script/color-swatch.js" type="text/javascript"></script>
  <!-- import paint-js-canvas component -->
  <script src="script/paint-js-canvas.js" type="text/javascript"></script>


</head>
<body onload="init()">
  <div id="paint-js">
    <div id="toolbars">
      <ul class="tab-area">
        <li class="tab"><a href="javascript:void(0)" class="tablink" onclick="openTab(event, 'utilities')" id="default-open">
          Utilities
        </a></li>
        <li class="tab"><a href="javascript:void(0)" class="tablink" onclick="openTab(event, 'tools')">
          Tools
        </a></li>
        <li class="tab"><a href="javascript:void(0)" class="tablink" onclick="openTab(event, 'colors')">
          Colors
        </a></li>
        <li class="tab"><a href="javascript:void(0)" class="tablink" onclick="openTab(event, 'other')">
          Other
        </a></li>
      </ul>

      <div id="utilities" class="tabcontent">

      </div>
      <div id="tools" class="tabcontent">

      </div>
      <div id="colors" class="tabcontent">

        <div id="color_swatch_selector">
          <color-swatch
            :swatch-name="primary_swatch_name"
            :selected="primary_selected"
            :color-style="primary_style"
            @selectswatch="selectPrimarySwatch">
          </color-swatch>
          <color-swatch
            :swatch-name="secondary_swatch_name"
            :selected="secondary_selected"
            :color-style="secondary_style"
            @selectswatch="selectSecondarySwatch">
          </color-swatch>

          <color-sliders
            :color-prop="primary_color"
            :visible="primary_selected"
            @colorchanged="updatePrimaryColor">
          </color-sliders>
          <color-sliders
            :color-prop="secondary_color"
            :visible="secondary_selected"
            @colorchanged="updateSecondaryColor">
          </color-sliders>
        </div>

      </div>
      <div id="other" class="tabcontent">

        <a href="in_progress/color-sliders.html">Color Picker Demo</a>

      </div>



    </div>
    <div id="canvas-area">

      <paint-js-canvas
      :primary-color="primary_color"
      :secondary-color="secondary_color"
      :primary-color-style="primary_style"
      :secondary-color-style="secondary_style">
      </paint-js-canvas>

    </div>
  </div>



  <script>

    var vm = new Vue({
      el: '#paint-js',

      data: {
        primary_color: [0, 0, 0],
        secondary_color: [0, 0, 0],
        primary_swatch_name: "Primary",
        secondary_swatch_name: "Secondary",
        primary_selected: true,
        secondary_selected: false,

        primary_style: "rgba(0, 0, 0, 1)",
        secondary_style: "rgba(0, 0, 0, 1)"
      },

      methods: {
        updatePrimaryColor: function(e) {
          this.primary_color[0] = e.R;
          this.primary_color[1] = e.G;
          this.primary_color[2] = e.B;
          this.primary_style = e.color_style;
        },
        updateSecondaryColor: function(e) {
          this.secondary_color[0] = e.R;
          this.secondary_color[1] = e.G;
          this.secondary_color[2] = e.B;
          this.secondary_style = e.color_style;
        },

        selectPrimarySwatch: function(e) {
          this.primary_selected = true;
          this.secondary_selected = false;
        },
        selectSecondarySwatch: function(e) {
          this.secondary_selected = true;
          this.primary_selected = false;
        }
      }
    })

  </script>

</body>
</html>
